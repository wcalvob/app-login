{"version":3,"sources":["reportWebVitals.js","images/user.png","components/Login.js","images/construction.png","components/Home.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Login","state","form","id","password","error","errorMsg","submitHandler","e","preventDefault","changeHandler","a","setState","target","name","value","buttonHandler","axios","post","response","localStorage","setItem","data","token","window","location","reload","catch","className","this","src","imgUser","alt","method","onSubmit","type","placeholder","onChange","onClick","React","Component","accessToken","getItem","Home","interceptors","request","use","config","headers","authorization","Promise","reject","useState","users","setUsers","requestError","setRequestError","fetchData","get","result","console","log","email","removeItem","imgConstruction","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7888adef.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/user.96156881.png\";","import React from \"react\";\r\nimport \"../css/login.css\";\r\nimport imgUser from \"../images/user.png\";\r\nimport axios from \"axios\";\r\n\r\nclass Login extends React.Component {\r\n  /* declaración de estados */\r\n  state = {\r\n    form: {\r\n      id: \"\",\r\n      password: \"\",\r\n    },\r\n    error: false,\r\n    errorMsg: \"\",\r\n  };\r\n\r\n  /* método para no refresh de la página */\r\n  submitHandler = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  /* se obtienen los valores de los input */\r\n  changeHandler = async (e) => {\r\n    await this.setState({\r\n      form: {\r\n        ...this.state.form,\r\n        [e.target.name]: e.target.value,\r\n      },\r\n    });\r\n  };\r\n\r\n  /* conexión con el API y obtención de resultados */\r\n  buttonHandler = () => {\r\n    let url = \"http://camilo.touwolf.com:9101/api/v1/users/login\";\r\n    axios\r\n      .post(url, this.state.form)\r\n      .then((response) => {\r\n        /* se guarda el token en el almacenamiento local */\r\n        localStorage.setItem(\"token\", response.data.token);\r\n        window.location.reload(true);\r\n      })\r\n      .catch(() => {\r\n        this.setState({\r\n          error: true,\r\n          errorMsg: \"Verifique que los datos ingresados sean los correctos\",\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <header className=\"login\">\r\n          <div className=\"wrapper fadeInDown\">\r\n            <div id=\"formContent\">\r\n              {this.state.error === true && (\r\n                <div className=\"alert alert-danger\">{this.state.errorMsg}</div>\r\n              )}\r\n\r\n              <div className=\"fadeIn first\">\r\n                <img src={imgUser} className=\"img-user\" alt=\"User\" />\r\n              </div>\r\n\r\n              <form method=\"post\" onSubmit={this.submitHandler}>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"login\"\r\n                  className=\"fadeIn second\"\r\n                  name=\"id\"\r\n                  placeholder=\"Correo electrónico\"\r\n                  onChange={this.changeHandler}\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  className=\"fadeIn third\"\r\n                  name=\"password\"\r\n                  placeholder=\"Contraseña\"\r\n                  onChange={this.changeHandler}\r\n                />\r\n                <input\r\n                  type=\"submit\"\r\n                  className=\"fadeIn fourth\"\r\n                  value=\"Iniciar Sesión\"\r\n                  onClick={this.buttonHandler}\r\n                />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/construction.352a0805.png\";","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport imgConstruction from \"../images/construction.png\";\r\n\r\n/* obtener el token almacenado en el navegador */\r\nconst accessToken = localStorage.getItem(\"token\");\r\nconst apiUrl = \"http://camilo.touwolf.com:9101/api/v1/users/profile\";\r\n\r\n/* función cerrar sesión */\r\nfunction signOff() {\r\n  localStorage.removeItem(\"token\");\r\n  window.location.reload(true);\r\n}\r\n\r\n/* función principal */\r\nfunction Home() {\r\n  /* se obtiene la autorización mediante JWT */\r\n  axios.interceptors.request.use(\r\n    (config) => {\r\n      config.headers.authorization = \"Bearer \" + accessToken;\r\n      return config;\r\n    },\r\n    (error) => {\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  /* declaración de estados */\r\n  const [users, setUsers] = useState([]);\r\n  const [requestError, setRequestError] = useState();\r\n\r\n  /* se obtiene los datos del API */\r\n  const fetchData = async () => {\r\n    try {\r\n      const result = await axios.get(apiUrl);\r\n      setUsers(result.data);\r\n    } catch (err) {\r\n      setRequestError(\"Error de conexión con el API\");\r\n      console.log(requestError);\r\n    }\r\n  };\r\n\r\n  fetchData();\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header className=\"header\">\r\n        <h4>Bienvenido(a), {users.name} {users.email}</h4>\r\n        <button className=\"btn btn-primary mt-3\" onClick={() => signOff()}>\r\n          Cerrar Sesión\r\n        </button>\r\n      </header>\r\n      <div className=\"fadeIn first\">\r\n        <img\r\n          src={imgConstruction}\r\n          className=\"img-construction\"\r\n          alt=\"Construction\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport Login from \"./components/Login\";\r\nimport Home from \"./components/Home\";\r\n\r\nfunction App() {\r\n  if (localStorage.getItem(\"token\") == null) {\r\n    return <Login />;\r\n  } else {\r\n    return <Home />;\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport reportWebVitals from './reportWebVitals';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>    \n      <App />   \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}